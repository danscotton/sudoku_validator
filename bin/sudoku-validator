#!/usr/bin/env ruby

require_relative '../lib/sudoku_fileparser'
require_relative '../lib/sudoku_puzzle'

filename = ARGV[0]

filepath = File.expand_path(filename)
if File.exist?(filepath)
  file = File.read(filepath)
end

puzzle = Sudoku::Puzzle.new(Sudoku::FileParser.new(file).parse_rows)

case [puzzle.valid?, puzzle.complete?]
  when [true, true]
    puts "This sudoku is valid."
  when [true, false]
    puts "This sudoku is valid, but incomplete."
  when [false, true]
    puts "This sudoku is invalid."
  when [false, false]
    puts "This sudoku is invalid."
end
